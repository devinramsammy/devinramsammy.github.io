(this["webpackJsonpwp-database-analytics"]=this["webpackJsonpwp-database-analytics"]||[]).push([[0],{240:function(e,t,a){},241:function(e,t,a){},386:function(e,t,a){},388:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a(0),c=a.n(r),s=a(52),i=a.n(s),o=(a(240),a(241),a(27)),l=a.n(o),d=a(23),h=a(203),u=a(185),j=a(11),b=a(55),f=a(56),p=a(92),m=a(100),O=a(30),x=a(130),y=a(389),g=a(390),v=a(391),k=a(399),w=a(400),N=a(42),B=a.n(N);function W(e){var t=e.data;return Object(n.jsx)("div",{style:{marginLeft:"auto",marginRight:"auto",alignItems:"center"},children:Object(n.jsx)(y.a,{children:Object(n.jsx)(g.a,{children:t.map((function(e,t){return Object(n.jsx)(v.a,{xs:4,children:Object(n.jsx)(B.a,{bottom:!0,children:Object(n.jsx)(k.a,{className:"card",children:Object(n.jsxs)(k.a.Body,{children:[Object(n.jsx)(k.a.Title,{children:Object(n.jsx)("center",{children:e.name})}),Object(n.jsx)(k.a.Text,{children:Object(n.jsx)("center",{children:e.blurb})}),Object(n.jsx)(y.a,{children:Object(n.jsxs)(g.a,{children:[Object(n.jsx)(v.a,{children:void 0!==e.source1?Object(n.jsx)(w.a,{variant:"primary",href:e.source1.url,className:"button",children:"Source 1"}):""}),Object(n.jsx)(v.a,{children:void 0!==e.source2?Object(n.jsx)(w.a,{variant:"primary",href:e.source1.url,className:"button",children:"Source 2"}):""})]})})]})})})})}))})})})}var H=a(189),K=a.n(H),M=a(392),A=a(396),S=a(97),P=a(98),D=a(102),C=a(74),_=a(204);function I(e){var t=e.data,a=e.bar,r=void 0===a?{dataKey:"",name:""}:a;return Object(n.jsxs)(M.a,{width:500,height:300,data:t,margin:{top:5,right:30,left:20,bottom:5},children:[Object(n.jsx)(A.a,{strokeDasharray:"3 3"}),Object(n.jsx)(S.a,{dataKey:"name",stroke:"white"}),Object(n.jsx)(P.a,{stroke:"white"}),Object(n.jsx)(D.a,{}),Object(n.jsx)(C.a,{}),Object(n.jsx)(_.a,{dataKey:r.dataKey,fill:"#455566",name:r.name})]})}a(386);var F=a(200);var T=function(e){var t=e.data,a=t.map((function(e){return"\u2022     "+e.name+" - "+e.age+"     "})),r="";return r=0===t.length?Object(n.jsx)("h1",{className:"tickertext",style:{visibility:"hidden"},children:"placeholder"}):Object(n.jsx)("h1",{className:"tickertext",children:a}),Object(n.jsx)(F.a,{className:"ticker",height:30,speed:10,children:function(e){e.index;return Object(n.jsx)(n.Fragment,{children:r})}})},Y=a(397),L=a(201);function R(e){var t=e.data;return Object(n.jsxs)(Y.a,{width:500,height:300,data:t,margin:{top:5,right:30,left:20,bottom:5},children:[Object(n.jsx)(S.a,{dataKey:"name",stroke:"white"}),Object(n.jsx)(P.a,{stroke:"white"}),Object(n.jsx)(A.a,{strokeDasharray:"3 3"}),Object(n.jsx)(D.a,{}),Object(n.jsx)(C.a,{}),Object(n.jsx)(L.a,{type:"monotone",dataKey:"White",stroke:"#455566",strokeWidth:"3px"}),Object(n.jsx)(L.a,{type:"monotone",dataKey:"Black",stroke:"#455566",strokeWidth:"3px"}),Object(n.jsx)(L.a,{type:"monotone",dataKey:"Hispanic",stroke:"#455566",strokeWidth:"3px"}),Object(n.jsx)(L.a,{type:"monotone",dataKey:"Other",stroke:"#455566",strokeWidth:"3px"})]})}var z=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(b.a)(this,a),(n=t.call(this,e)).cleanData=function(e,t){var a,n=e.filter((function(e){return"W"===e.race})),r=e.filter((function(e){return"B"===e.race})),c=e.filter((function(e){return"A"===e.race})),s=e.filter((function(e){return"N"===e.race})),i=e.filter((function(e){return"O"===e.race})),o=e.filter((function(e){return"H"===e.race})),l=[],d=0,h=Object(j.a)(n);try{for(h.s();!(a=h.n()).done;){a.value.age<=t&&d++}}catch(k){h.e(k)}finally{h.f()}l.push({name:"White",young_adult:Math.round(d/197)}),d=0;var u,b=Object(j.a)(r);try{for(b.s();!(u=b.n()).done;){u.value.age<=t&&d++}}catch(k){b.e(k)}finally{b.f()}l.push({name:"Black",young_adult:Math.round(d/42)}),d=0;var f,p=Object(j.a)(c);try{for(p.s();!(f=p.n()).done;){f.value.age<=t&&d++}}catch(k){p.e(k)}finally{p.f()}l.push({name:"Asian",young_adult:Math.round(d/17)}),d=0;var m,O=Object(j.a)(i);try{for(O.s();!(m=O.n()).done;){m.value.age<=t&&d++}}catch(k){O.e(k)}finally{O.f()}l.push({name:"Other",young_adult:Math.round(d/49)}),d=0;var x,y=Object(j.a)(s);try{for(y.s();!(x=y.n()).done;){x.value.age<=t&&d++}}catch(k){y.e(k)}finally{y.f()}l.push({name:"Native American",young_adult:Math.round(d/4.9)}),d=0;var g,v=Object(j.a)(o);try{for(v.s();!(g=v.n()).done;){g.value.age<=t&&d++}}catch(k){v.e(k)}finally{v.f()}return l.push({name:"Hispanic",young_adult:Math.round(d/39)}),d=0,l},n.newYorkStats=function(e){var t=e.filter((function(e){return"NY"===e.state})),a=t.filter((function(e){return"W"===e.race})),n=t.filter((function(e){return"B"===e.race})),r=t.filter((function(e){return"A"===e.race})),c=t.filter((function(e){return"N"===e.race})),s=t.filter((function(e){return"O"===e.race})),i=t.filter((function(e){return"H"===e.race})),o=[];return o.push({name:"White",killed:a.length}),o.push({name:"Black",killed:n.length}),o.push({name:"Asian",killed:r.length}),o.push({name:"Native American",killed:c.length}),o.push({name:"Other",killed:s.length}),o.push({name:"Hispanic",killed:i.length}),o},n.lineChart=function(e,t){var a=e.filter((function(e){return"W"===e.race})),n=e.filter((function(e){return"B"===e.race})),r=e.filter((function(e){return"O"===e.race})),c=e.filter((function(e){return"H"===e.race}));return[{name:"2015",White:500,Black:259,Hispanic:172,Other:37},{name:"2016",White:469,Black:234,Hispanic:160,Other:42},{name:"2017",White:461,Black:224,Hispanic:181,Other:44},{name:"2018",White:456,Black:229,Hispanic:166,Other:39},{name:"2019",White:405,Black:249,Hispanic:163,Other:41},{name:"2020",White:436,Black:226,Hispanic:156,Other:22},{name:"2021",White:a.filter((function(e){return 2021===parseInt(e.date.substring(0,4))})).length,Black:n.filter((function(e){return parseInt(2021===e.date.substring(0,4))})).length,Hispanic:c.filter((function(e){return 2021===parseInt(e.date.substring(0,4))})).length,Other:r.filter((function(e){return 2021===parseInt(e.date.substring(0,4))})).length}]},n.svg=c.a.createRef(),n.state={database:[],dict:new Set,array:[],loading:!0},n}return Object(f.a)(a,[{key:"componentDidMount",value:function(){var e=Object(u.a)(l.a.mark((function e(){var t=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O.c("https://cdn.jsdelivr.net/npm/us-atlas@3/states-10m.json").then((function(e){var a=750,n=750,r=O.e(t.svg.current).attr("viewBox",[0,0,a,n]).on("click",(function(){o.transition().style("fill",null),r.transition().duration(750).call(b.transform,O.g,O.h(r.node()).invert([375,375]))})),c=O.a().translate([375,375]),s=O.b().projection(c),i=r.append("g");var o=i.append("g").attr("id","states").selectAll("path").data(x.a(e,e.objects.states).features).enter().append("path").attr("cursor","pointer").on("click",(function(e,t){var c=s.bounds(t),i=Object(d.a)(c,2),l=Object(d.a)(i[0],2),h=l[0],u=l[1],j=Object(d.a)(i[1],2),f=j[0],p=j[1];e.stopPropagation(),o.transition().style("fill",null),r.transition().duration(750).call(b.transform,O.g.translate(375,375).scale(Math.min(8,.9/Math.max((f-h)/a,(p-u)/n))).translate(-(h+f)/2,-(u+p)/2),O.d(e,r.node()))})).attr("d",s);i.append("path").datum(x.b(e,e.objects.states,(function(e,t){return e!==t}))).attr("id","state-borders").attr("d",s);var l=function(e,a){if(!0!==t.state.dict.has(a.metadata)){var n=t.state.dict;n.add(a.metadata);var r=t.state.array;9===t.state.array.length&&r.shift(),t.setState({dict:n,array:[].concat(Object(h.a)(r),[a.metadata])})}},u={type:"FeatureCollection",features:[]};O.c("https://immense-oasis-19068.herokuapp.com/https://www.washingtonpost.com/graphics/investigations/police-shootings-database/data/policeshootings_all.json").then((function(e){t.setState({loading:!1,database:e});var a,n=Object(j.a)(e);try{for(n.s();!(a=n.n()).done;){var s=a.value;if(null!==s.lat&&null!==s.lon){var i={type:"feature",geometry:{type:"Point",coordinates:[s.lat,s.lon]},metadata:{blurb:s.blurb,source1:s.sources[0],source2:s.sources[1],name:s.name}},o=u.features;o.push(i),u.features=o}}}catch(d){n.e(d)}finally{n.f()}r.selectAll("circle").data(u.features).enter().append("circle").attr("cx",(function(e){var t=e.geometry.coordinates[1],a=e.geometry.coordinates[0];return c([t,a])[0]})).attr("cy",(function(e){var t=e.geometry.coordinates[1],a=e.geometry.coordinates[0];return c([t,a])[1]})).style("fill","black").attr("r",.5).on("mouseover",l)}));var b=O.f().scaleExtent([1,50]).on("zoom",(function(e){r.selectAll("circle").attr("transform",e.transform),i.selectAll("path").attr("transform",e.transform)}));r.call(b)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(n.jsxs)(K.a,{active:this.state.loading,spinner:!0,text:"Loading Data...",children:[Object(n.jsx)(T,{data:this.state.database}),Object(n.jsx)("div",{style:{minHeight:"80vh"},children:Object(n.jsxs)(B.a,{clear:!0,children:[Object(n.jsxs)("div",{children:[Object(n.jsxs)("p",{className:"map-caption",children:["Data points of Police Shootings across the U.S. sourced from"," ",Object(n.jsx)("a",{href:"https://github.com/washingtonpost/data-police-shootings",children:"The Washington Post"})]}),Object(n.jsx)("p",{className:"secondary-caption",children:"Click or scroll to zoom, and hover over data points to populate the list to find out more."}),Object(n.jsx)("svg",{style:{marginLeft:"auto",marginRight:"auto",display:"block"},width:"50vw",height:"50vh",ref:this.svg}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{})]}),Object(n.jsx)("div",{children:Object(n.jsx)(W,{data:this.state.array})})]})}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)("div",{className:"chart-styles",children:Object(n.jsxs)(y.a,{children:[Object(n.jsxs)(g.a,{children:[Object(n.jsx)(v.a,{xs:12,sm:12,md:6,children:Object(n.jsxs)(B.a,{clear:!0,children:[Object(n.jsx)(I,{data:this.cleanData(this.state.database,25),bar:{dataKey:"young_adult",name:"Young Adults"}}),Object(n.jsx)("p",{className:"secondary-caption",children:"Per 1 Million People, Black and Hispanic young adults (under the age of 25) are disproportionally killed by the police"})]})}),Object(n.jsx)(v.a,{xs:12,sm:12,md:6,children:Object(n.jsxs)(B.a,{clear:!0,children:[Object(n.jsx)(I,{data:this.newYorkStats(this.state.database),bar:{dataKey:"killed",name:"Killed In New York"}}),Object(n.jsx)("p",{className:"secondary-caption",children:"Black and Hispanic members of the community are disproportionally killed by the police in New York"})]})}),Object(n.jsx)(v.a,{md:3}),Object(n.jsx)(v.a,{xs:12,sm:12,md:6,children:Object(n.jsx)("div",{children:Object(n.jsxs)(B.a,{clear:!0,children:[Object(n.jsx)(I,{data:this.cleanData(this.state.database,18),bar:{dataKey:"young_adult",name:"Minors Killed"}}),Object(n.jsx)("p",{className:"secondary-caption",children:"Per 1 Million People, Black minors are 3x more likely to be killed and Hispanic minors are 2x more likely to be killed than their White counterparts"})]})})})]}),Object(n.jsx)("br",{}),Object(n.jsxs)(g.a,{children:[Object(n.jsx)(v.a,{md:3}),Object(n.jsx)(v.a,{xs:12,sm:12,md:6,children:Object(n.jsx)("div",{children:Object(n.jsxs)(B.a,{clear:!0,children:[Object(n.jsx)(R,{data:this.lineChart(this.state.database)}),Object(n.jsx)("p",{className:"secondary-caption",children:"There hasn't been significant change to the amount of people killed by police per year eventhough many reforms have been made"})]})})})]})]})})]})}}]),a}(r.Component),E=(a(387),function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(){return Object(b.a)(this,a),t.apply(this,arguments)}return Object(f.a)(a,[{key:"render",value:function(){return Object(n.jsx)("div",{children:Object(n.jsx)("h1",{className:"header",children:"Police Shootings Database Analytics"})})}}]),a}(r.Component));function J(){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(E,{}),Object(n.jsx)(z,{})]})}var U=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,402)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),n(e),r(e),c(e),s(e)}))};a.p;i.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(J,{})}),document.getElementById("root")),U()}},[[388,1,2]]]);
//# sourceMappingURL=main.670296ce.chunk.js.map